sources: 
  PRCP_ANOMALY:
    driver: subxdriver
    metadata:
      id_code: 223
    args:
      hindcast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.pr/S/(0000%202%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/S/(days%20since%201999-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.pr/S/0.5/sub/use_as_grid/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/to366daysample/%5BYR%5Daverage/S/sampleDOY/sub/S/({training_season})/VALUES/L/removeGRID/S/(T)/renameGRID/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}
      forecast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.forecast/.pr/S/(0000%20{fdate.day}%20{threeletters[fdate.month]}%20{fdate.year})/VALUES/S/(days%20since%20{fdate.year}-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.pr/S/0.5/sub/use_as_grid/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/(T)/renameGRID/pentadAverage/pentadmean/T/0.5/sub/5/mul/1/add/use_as_grid/T/1/1/366/GRID/T/%28S%29renameGRID/sub/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/S/(T)/renameGRID/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}        
#      observed: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.pr/S/(0000%207%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/S/(days%20since%201999-01-01)/streamgridunitconvert/L/(1)/(14)/RANGEEDGES/%5BM%5Daverage/L/13/runningAverage/S/0.5/sub/use_as_grid/{obs_source}/Y/{predictand_extent.south}/{predictand_extent.north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west}/{predictand_extent.to_strict_positive().east}/RANGEEDGES/T/to366daysample/%5BYR%5Daverage/S/sampleDOY/sub/S/(T)/renameGRID/T/{int(lead_high-lead_low)}/runningAverage/T/({training_season})/VALUES/{int(lead_high-lead_low)}/mul/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}     
      observed: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.pr/S/(0000%207%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/({training_season})/VALUES/L/S/add/%5BL/S%5D//T/sampleNDto1D/{obs_source}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/{f'{obs_climo}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/T/to366daysample/%5BYR%5Daverage/T/sampleDOY/sub/' if obs_climo != '' else ''}T/%28days%20since%201960-01-01%29/streamgridunitconvert/T/{int(lead_high-lead_low)}/runningAverage/c%3A/7.0//units//days/def/%3Ac/mul/T/2/index/.T/SAMPLE/nip/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}

  OLR_ANOMALY:
    driver: subxdriver
    metadata:
      id_code: 224
    args:
      hindcast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.rlut/S/(0000%202%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/S/(days%20since%201999-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.rlut/S/0.5/sub/use_as_grid/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/to366daysample/%5BYR%5Daverage/S/sampleDOY/sub/S/({training_season})/VALUES/L/removeGRID/S/(T)/renameGRID/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}
      forecast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.forecast/.rlut/S/(0000%20{fdate.day}%20{threeletters[fdate.month]}%20{fdate.year})/VALUES/S/(days%20since%20{fdate.year}-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.rlut/S/0.5/sub/use_as_grid/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/(T)/renameGRID/pentadAverage/pentadmean/T/0.5/sub/5/mul/1/add/use_as_grid/T/1/1/366/GRID/T/%28S%29renameGRID/sub/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/S/(T)/renameGRID/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}        
      observed: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.pr/S/(0000%207%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/({training_season})/VALUES/L/S/add/%5BL/S%5D//T/sampleNDto1D/{obs_source}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/{f'{obs_climo}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/T/to366daysample/%5BYR%5Daverage/T/sampleDOY/sub/' if obs_climo != '' else ''}T/%28days%20since%201960-01-01%29/streamgridunitconvert/T/{int(lead_high-lead_low)}/runningAverage/c%3A/7.0//units//days/def/%3Ac/mul/T/2/index/.T/SAMPLE/nip/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}

  T2M_ANOMALY:
    driver: subxdriver
    metadata:
      id_code: 225
    args:
      hindcast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.tas/S/(0000%202%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/S/(days%20since%201999-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.tas/S/0.5/sub/use_as_grid/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/to366daysample/%5BYR%5Daverage/S/sampleDOY/sub/S/({training_season})/VALUES/L/removeGRID/S/(T)/renameGRID/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}
      forecast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.forecast/.tas/S/(0000%20{fdate.day}%20{threeletters[fdate.month]}%20{fdate.year})/VALUES/S/(days%20since%20{fdate.year}-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.tas/S/0.5/sub/use_as_grid/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/(T)/renameGRID/pentadAverage/pentadmean/T/0.5/sub/5/mul/1/add/use_as_grid/T/1/1/366/GRID/T/%28S%29renameGRID/sub/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/S/(T)/renameGRID/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}        
      observed: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.pr/S/(0000%207%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/({training_season})/VALUES/L/S/add/%5BL/S%5D//T/sampleNDto1D/{obs_source}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/{f'{obs_climo}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/T/to366daysample/%5BYR%5Daverage/T/sampleDOY/sub/' if obs_climo != '' else ''}T/%28days%20since%201960-01-01%29/streamgridunitconvert/T/{int(lead_high-lead_low)}/runningAverage/c%3A/7.0//units//days/def/%3Ac/mul/T/2/index/.T/SAMPLE/nip/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}
      
  TEMP_ANOMALY:
    driver: subxdriver
    metadata:
      id_code: 226
    args:
      hindcast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.ts/S/(0000%202%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/S/(days%20since%201999-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.ts/S/0.5/sub/use_as_grid/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/to366daysample/%5BYR%5Daverage/S/sampleDOY/sub/S/({training_season})/VALUES/L/removeGRID/S/(T)/renameGRID/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}
      forecast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.forecast/.ts/S/(0000%20{fdate.day}%20{threeletters[fdate.month]}%20{fdate.year})/VALUES/S/(days%20since%20{fdate.year}-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.ts/S/0.5/sub/use_as_grid/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/(T)/renameGRID/pentadAverage/pentadmean/T/0.5/sub/5/mul/1/add/use_as_grid/T/1/1/366/GRID/T/%28S%29renameGRID/sub/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/S/(T)/renameGRID/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}        
      observed: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.pr/S/(0000%207%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/({training_season})/VALUES/L/S/add/%5BL/S%5D//T/sampleNDto1D/{obs_source}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/{f'{obs_climo}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/T/to366daysample/%5BYR%5Daverage/T/sampleDOY/sub/' if obs_climo != '' else ''}T/%28days%20since%201960-01-01%29/streamgridunitconvert/T/{int(lead_high-lead_low)}/runningAverage/c%3A/7.0//units//days/def/%3Ac/mul/T/2/index/.T/SAMPLE/nip/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}

  UA_ANOMALY:
    driver: subxdriver
    metadata:
      id_code: 227
    args:
      hindcast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.ua/P/{pressure}/VALUES/S/(0000%202%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/S/(days%20since%201999-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.ua/S/0.5/sub/use_as_grid/P/{pressure}/VALUES/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/to366daysample/%5BYR%5Daverage/S/sampleDOY/sub/S/({training_season})/VALUES/L/removeGRID/S/(T)/renameGRID/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}
      forecast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.forecast/.ua/P/{pressure}/VALUES/S/(0000%20{fdate.day}%20{threeletters[fdate.month]}%20{fdate.year})/VALUES/S/(days%20since%20{fdate.year}-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.ua/S/0.5/sub/use_as_grid/P/{pressure}/VALUES/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/(T)/renameGRID/pentadAverage/pentadmean/T/0.5/sub/5/mul/1/add/use_as_grid/T/1/1/366/GRID/T/%28S%29renameGRID/sub/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/S/(T)/renameGRID/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}        
      observed: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.pr/S/(0000%207%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/({training_season})/VALUES/L/S/add/%5BL/S%5D//T/sampleNDto1D/{obs_source}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/{f'{obs_climo}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/T/to366daysample/%5BYR%5Daverage/T/sampleDOY/sub/' if obs_climo != '' else ''}T/%28days%20since%201960-01-01%29/streamgridunitconvert/T/{int(lead_high-lead_low)}/runningAverage/c%3A/7.0//units//days/def/%3Ac/mul/T/2/index/.T/SAMPLE/nip/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}
      pressure_levels: [850, 200]

  VA_ANOMALY:
    driver: subxdriver
    metadata:
      id_code: 228
    args:
      hindcast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.va/P/{pressure}/VALUES/S/(0000%202%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/S/(days%20since%201999-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.va/S/0.5/sub/use_as_grid/P/{pressure}/VALUES/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/to366daysample/%5BYR%5Daverage/S/sampleDOY/sub/S/({training_season})/VALUES/L/removeGRID/S/(T)/renameGRID/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}
      forecast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.forecast/.va/P/{pressure}/VALUES/S/(0000%20{fdate.day}%20{threeletters[fdate.month]}%20{fdate.year})/VALUES/S/(days%20since%20{fdate.year}-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.va/S/0.5/sub/use_as_grid/P/{pressure}/VALUES/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/(T)/renameGRID/pentadAverage/pentadmean/T/0.5/sub/5/mul/1/add/use_as_grid/T/1/1/366/GRID/T/%28S%29renameGRID/sub/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/S/(T)/renameGRID/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}        
      observed: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.pr/S/(0000%207%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/({training_season})/VALUES/L/S/add/%5BL/S%5D//T/sampleNDto1D/{obs_source}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/{f'{obs_climo}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/T/to366daysample/%5BYR%5Daverage/T/sampleDOY/sub/' if obs_climo != '' else ''}T/%28days%20since%201960-01-01%29/streamgridunitconvert/T/{int(lead_high-lead_low)}/runningAverage/c%3A/7.0//units//days/def/%3Ac/mul/T/2/index/.T/SAMPLE/nip/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}
      pressure_levels: [850, 200]

  GPH_ANOMALY:
    driver: subxdriver
    metadata:
      id_code: 229
    args:
      hindcast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.zg/P/{pressure}/VALUES/S/(0000%202%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/S/(days%20since%201999-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.zg/S/0.5/sub/use_as_grid/P/{pressure}/VALUES/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/to366daysample/%5BYR%5Daverage/S/sampleDOY/sub/S/({training_season})/VALUES/L/removeGRID/S/(T)/renameGRID/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}
      forecast: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.forecast/.zg/P/{pressure}/VALUES/S/(0000%20{fdate.day}%20{threeletters[fdate.month]}%20{fdate.year})/VALUES/S/(days%20since%20{fdate.year}-01-01)/streamgridunitconvert/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/%5BM%5Daverage/L/{int(lead_high-lead_low)}/runningAverage/S/0.5/sub/use_as_grid/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.dc9915/.zg/S/0.5/sub/use_as_grid/P/{pressure}/VALUES/Y/{predictor_extent.south}/{predictor_extent.north}/RANGEEDGES/X/{predictor_extent.west}/{predictor_extent.east}/RANGEEDGES/L/({lead_low})/({lead_high})/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/(T)/renameGRID/pentadAverage/pentadmean/T/0.5/sub/5/mul/1/add/use_as_grid/T/1/1/366/GRID/T/%28S%29renameGRID/sub/c%3A/0.001/(m3%20kg-1)/%3Ac/mul/c%3A/1000/(mm%20m-1)/%3Ac/mul/c%3A/86400/(s%20day-1)/%3Ac/mul/c%3A/7.0//units//days/def/%3Ac/mul/S/(T)/renameGRID/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}        
      observed: https://iridl.ldeo.columbia.edu/SOURCES/.Models/.SubX/.NRL/.NESM/.hindcast/.pr/S/(0000%207%20Jan%201999)/(0000%2031%20Dec%202016)/RANGEEDGES/L/{lead_low}/{lead_high}/RANGEEDGES/L/{int(lead_high-lead_low)}/runningAverage/S/({training_season})/VALUES/L/S/add/%5BL/S%5D//T/sampleNDto1D/{obs_source}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/{f'{obs_climo}/Y/{predictand_extent.to_strict_positive().south}/{predictand_extent.to_strict_positive().north}/RANGEEDGES/X/{predictand_extent.to_strict_positive().west if obs_strict_pos else predictand_extent.to_plus_minus_180().west }/{predictand_extent.to_strict_positive().east if obs_strict_pos else predictand_extent.to_plus_minus_180().east }/RANGEEDGES/T/to366daysample/%5BYR%5Daverage/T/sampleDOY/sub/' if obs_climo != '' else ''}T/%28days%20since%201960-01-01%29/streamgridunitconvert/T/{int(lead_high-lead_low)}/runningAverage/c%3A/7.0//units//days/def/%3Ac/mul/T/2/index/.T/SAMPLE/nip/-999/setmissing_value/{'%5BX/Y%5D%5BT%5Dcptv10.tsv' if filetype == 'cptv10.tsv' else 'data.nc'}
      pressure_levels: [500, 200]
